{"ast":null,"code":"import _slicedToArray from\"/Users/ilzira/dev/react-mesto-auth/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import PopupWithForm from'./PopupWithForm';import{CurrentUserContext}from'../contexts/CurrentUserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=React.useContext(CurrentUserContext);var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(),_React$useState4=_slicedToArray(_React$useState3,2),description=_React$useState4[0],setDescription=_React$useState4[1];React.useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[isOpen,currentUser]);function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}function handleNameChange(e){setName(e.target.value);}function handleDescriptionChange(e){setDescription(e.target.value);}return/*#__PURE__*/_jsxs(PopupWithForm,{title:'Редактировать профиль',name:'edit',onSubmit:handleSubmit,isOpen:isOpen,onClose:onClose,children:[/*#__PURE__*/_jsx(\"input\",{value:name||'',onChange:handleNameChange,type:\"text\",id:\"profilename\",name:\"profilename\",className:\"popup__input popup__input_type_name\",placeholder:\"\\u0418\\u043C\\u044F\",minLength:\"2\",maxLength:\"40\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__span-error\",id:\"profilename-error\"}),/*#__PURE__*/_jsx(\"input\",{value:description||'',onChange:handleDescriptionChange,type:\"text\",id:\"profileabout\",name:\"profileabout\",className:\"popup__input popup__input_type_about\",placeholder:\"\\u041F\\u0440\\u043E\\u0444\\u0435\\u0441\\u0441\\u0438\\u044F\",minLength:\"2\",maxLength:\"200\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__span-error\",id:\"profileabout-error\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"popup__button popup__button_type_save popup__button_type_save-edit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})]});}export default EditProfilePopup;","map":{"version":3,"sources":["/Users/ilzira/dev/react-mesto-auth/src/components/EditProfilePopup.js"],"names":["React","PopupWithForm","CurrentUserContext","EditProfilePopup","isOpen","onClose","onUpdateUser","currentUser","useContext","useState","name","setName","description","setDescription","useEffect","about","handleSubmit","e","preventDefault","handleNameChange","target","value","handleDescriptionChange"],"mappings":"yJAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CACA,OAASC,kBAAT,KAAmC,gCAAnC,C,wFAEA,QAASC,CAAAA,gBAAT,MAA2D,IAAhCC,CAAAA,MAAgC,MAAhCA,MAAgC,CAAxBC,OAAwB,MAAxBA,OAAwB,CAAfC,YAAe,MAAfA,YAAe,CAEvD,GAAMC,CAAAA,WAAW,CAAGP,KAAK,CAACQ,UAAN,CAAiBN,kBAAjB,CAApB,CACA,oBAAwBF,KAAK,CAACS,QAAN,EAAxB,oDAAOC,IAAP,qBAAaC,OAAb,qBACA,qBAAsCX,KAAK,CAACS,QAAN,EAAtC,qDAAOG,WAAP,qBAAoBC,cAApB,qBAEAb,KAAK,CAACc,SAAN,CAAgB,UAAM,CAClBH,OAAO,CAACJ,WAAW,CAACG,IAAb,CAAP,CACAG,cAAc,CAACN,WAAW,CAACQ,KAAb,CAAd,CACD,CAHH,CAGK,CAACX,MAAD,CAASG,WAAT,CAHL,EAKA,QAASS,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACAZ,YAAY,CAAC,CACXI,IAAI,CAAEA,IADK,CAEXK,KAAK,CAAEH,WAFI,CAAD,CAAZ,CAID,CAEH,QAASO,CAAAA,gBAAT,CAA0BF,CAA1B,CAA6B,CACzBN,OAAO,CAACM,CAAC,CAACG,MAAF,CAASC,KAAV,CAAP,CACH,CAED,QAASC,CAAAA,uBAAT,CAAiCL,CAAjC,CAAoC,CAChCJ,cAAc,CAACI,CAAC,CAACG,MAAF,CAASC,KAAV,CAAd,CACH,CAGD,mBACE,MAAC,aAAD,EAAe,KAAK,CAAE,uBAAtB,CAA+C,IAAI,CAAE,MAArD,CAA6D,QAAQ,CAAEL,YAAvE,CAAqF,MAAM,CAAEZ,MAA7F,CAAqG,OAAO,CAAEC,OAA9G,wBACM,cAAO,KAAK,CAAEK,IAAI,EAAI,EAAtB,CAA0B,QAAQ,CAAES,gBAApC,CAAsD,IAAI,CAAC,MAA3D,CAAkE,EAAE,CAAE,aAAtE,CAAoF,IAAI,CAAC,aAAzF,CAAwG,SAAS,CAAC,qCAAlH,CAAwJ,WAAW,CAAC,oBAApK,CAA0K,SAAS,CAAC,GAApL,CAAwL,SAAS,CAAC,IAAlM,CAAuM,QAAQ,KAA/M,EADN,cAEM,aAAM,SAAS,CAAC,mBAAhB,CAAoC,EAAE,CAAC,mBAAvC,EAFN,cAGM,cAAO,KAAK,CAAEP,WAAW,EAAI,EAA7B,CAAiC,QAAQ,CAAEU,uBAA3C,CAAoE,IAAI,CAAC,MAAzE,CAAgF,EAAE,CAAC,cAAnF,CAAkG,IAAI,CAAC,cAAvG,CAAuH,SAAS,CAAC,sCAAjI,CAAwK,WAAW,CAAC,wDAApL,CAAgM,SAAS,CAAC,GAA1M,CAA8M,SAAS,CAAC,KAAxN,CAA8N,QAAQ,KAAtO,EAHN,cAIM,aAAM,SAAS,CAAC,mBAAhB,CAAoC,EAAE,CAAC,oBAAvC,EAJN,cAKM,eAAQ,IAAI,CAAC,QAAb,CAAsB,SAAS,CAAC,oEAAhC,oEALN,GADF,CASH,CAED,cAAenB,CAAAA,gBAAf","sourcesContent":["import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState();\n    const [description, setDescription] = React.useState();\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [isOpen, currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n          name: name,\n          about: description,\n        });\n      } \n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n   \n\n    return (\n      <PopupWithForm title={'Редактировать профиль'} name={'edit'} onSubmit={handleSubmit} isOpen={isOpen} onClose={onClose}>\n            <input value={name || ''} onChange={handleNameChange} type=\"text\" id =\"profilename\" name=\"profilename\"  className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required/>\n            <span className=\"popup__span-error\" id=\"profilename-error\"></span>\n            <input value={description || ''} onChange={handleDescriptionChange} type=\"text\" id=\"profileabout\" name=\"profileabout\"  className=\"popup__input popup__input_type_about\" placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" required/>\n            <span className=\"popup__span-error\" id=\"profileabout-error\"></span>\n            <button type=\"submit\" className=\"popup__button popup__button_type_save popup__button_type_save-edit\">Сохранить</button>\n      </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;"]},"metadata":{},"sourceType":"module"}