{"ast":null,"code":"class Api {\n  constructor({\n    url,\n    headers\n  }) {\n    this.url = url;\n    this.headers = headers;\n  } // проверка ответа сервера\n\n\n  _getResponseData(res) {\n    if (res.ok) {\n      return res.json();\n    } else return Promise.reject(`Произошла ошибка - ${res.status}`);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.url}/cards`, {\n      method: 'GET',\n      headers: this.headers\n    }).then(this._getResponseData);\n  }\n\n  addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.cardname,\n        link: data.cardlink\n      })\n    }).then(this._getResponseData);\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  changeUserAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar.avatarlink\n      })\n    }).then(this._getResponseData);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.profilename,\n        about: data.profileabout\n      })\n    }).then(this._getResponseData);\n  }\n\n  setLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: \"8865dd26-fca5-4131-9c42-5dfb67b3f292\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport default api;","map":{"version":3,"sources":["/Users/ilzira/dev/mesto-react/src/utils/Api.js"],"names":["Api","constructor","url","headers","_getResponseData","res","ok","json","Promise","reject","status","getInitialCards","fetch","method","then","addNewCard","data","_url","_headers","body","JSON","stringify","name","cardname","link","cardlink","deleteCard","id","changeUserAvatar","avatar","avatarlink","getUserInfo","setUserInfo","profilename","about","profileabout","setLike","deleteLike","api","authorization"],"mappings":"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","sourcesContent":["class Api {\n    constructor({url, headers}) {\n        this.url = url;\n        this.headers = headers;\n    }\n    \n\n  // проверка ответа сервера\n  _getResponseData(res){\n    if (res.ok) {\n      return res.json();\n    } else return Promise.reject(`Произошла ошибка - ${res.status}`);\n  }\n\n    getInitialCards() {\n        return fetch(`${this.url}/cards`, {\n            method: 'GET',\n            headers: this.headers\n        }).then(this._getResponseData);\n    }\n\n    addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.cardname,\n          link: data.cardlink\n        })\n      }).then(this._getResponseData);\n  }\n\n   deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  changeUserAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar: avatar.avatarlink,\n      }),\n    }).then(this._getResponseData);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n        method: 'GET',\n        headers: this._headers\n      }).then(this._getResponseData);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.profilename,\n        about: data.profileabout\n      })\n      }).then(this._getResponseData);\n  }\n\n  setLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: \"8865dd26-fca5-4131-9c42-5dfb67b3f292\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;"]},"metadata":{},"sourceType":"module"}