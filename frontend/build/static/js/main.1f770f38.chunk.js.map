{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/add_button_plus.svg","images/edit_button.svg","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","utils/api.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","utils/auth.js","images/decline_sign.svg","images/success_sign.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","src","logo","alt","path","email","onClick","onSignOut","CurrentUserContext","React","createContext","Card","card","onCardClick","onDeleteCard","onCardLike","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","link","name","aria-label","length","Main","onEditAvatar","onEditProfile","onAddPlace","handleCardDelete","handleCardLike","cards","avatar","buttonEdit","about","buttonAdd","id","map","Footer","Date","getFullYear","PopupWithForm","isOpen","onClose","title","onSubmit","noValidate","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","value","onChange","target","placeholder","minLength","maxLength","required","EditAvatarPopup","onUpdateAvatar","EditAvatarRef","useRef","current","ref","AddPlacePopup","cardNameRef","cardLinkRef","ImagePopup","api","config","this","_url","url","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","then","_getResponseData","data","body","JSON","stringify","authorization","Login","handleLogin","setEmail","password","setPassword","Register","handleRegister","ProtectedRoute","Component","component","loggedIn","BASE_URL","getResponse","InfoTooltip","isAuthSuccess","successSign","declineSign","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isDeleteCardPopupOpen","setDeleteCardPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","userData","setUserData","isInfoTooltipPopupOpen","setInfoTooltipPopupOpen","setAuthSuccess","history","useHistory","all","getUserInfo","getInitialCards","userInfo","catch","err","console","log","tokenCheck","token","jwt","localStorage","getItem","push","closeAllPopups","Provider","removeItem","exact","deleteCards","filter","c","deleteCard","changeLikeCardStatus","newCard","state","auth","setItem","setUserInfo","newUser","changeUserAvatar","addNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1f770f38.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.03b78ada.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\nimport { Route, Link, Switch } from 'react-router-dom';\n\nfunction Header(props) {\n    \n    \n    return (\n        <header className=\"header\">\n            <Link to=\"/\" className=\"link\"><img className=\"header__logo\" src={logo} alt=\"Логотип\"/></Link>\n            <div className=\"header__login\">\n                <Switch>\n                    <Route path=\"/sign-up\">\n                        <Link to=\"/sign-in\" className=\"header__status header__status_type_link\">Войти</Link>\n                    </Route>\n                    <Route path=\"/sign-in\">\n                        <Link to=\"/sign-up\" className=\"header__status header__status_type_link\">Регистрация</Link>\n                    </Route>\n                    <Route path=\"/\">\n                        <p className=\"header__status\">{props.email}</p>\n                        <p className=\"header__status header__status_type_link\" onClick={props.onSignOut}>Выйти</p>\n                    </Route>\n                </Switch>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({card, onCardClick, onDeleteCard, onCardLike}) {\n  \n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (`card__button-delete ${isOwn ? 'card__button-delete' : 'card__button-delete_hidden'}`);\n  const isLiked = card.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = (`card__button-like ${isLiked ? 'card__button-like_active' : 'card__button-like'}`);\n\n    const handleClick = () => {\n      onCardClick(card);\n    }\n\n    const handleLikeClick = () => {\n      onCardLike(card);\n    }\n\n    const handleDeleteClick = () => {\n      onDeleteCard(card);\n    }\n     \n    return (\n        <li className=\"card\">\n            <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleDeleteClick}/>\n            <img className=\"card__picture\" src={card.link} alt={card.name} onClick={handleClick}/>\n            <div className=\"card__info\">\n              <h2 className=\"card__name\">{card.name}</h2>\n              <div className=\"card__like-container\">\n                <button type=\"button\" className={cardLikeButtonClassName} aria-label=\"like\" onClick={handleLikeClick}/>\n                <span className=\"card__like-counter\">{card.likes.length}</span>\n              </div>\n            </div>\n        </li> \n    );\n}\n\nexport default Card;","export default __webpack_public_path__ + \"static/media/add_button_plus.54b14265.svg\";","export default __webpack_public_path__ + \"static/media/edit_button.a1892ea7.svg\";","import React from 'react';\nimport Card from './Card';\n\nimport buttonAdd from '../images/add_button_plus.svg';\nimport buttonEdit from '../images/edit_button.svg';\n\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, handleCardDelete, onCardClick, handleCardLike, cards}) {\n    \n    const currentUser = React.useContext(CurrentUserContext);\n    \n    return (\n        <main>\n            <section className=\"profile\">\n                <button className=\"profile__avatar-container\" onClick={onEditAvatar}>\n                    <div className=\"profile__avatar-edit\"></div>\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"Аватар\"/>\n                </button>\n                <div className=\"info\">\n                    <h1 className=\"info__name\">{currentUser.name}</h1>\n                    <button type=\"button\" className=\"button button_type_edit\" onClick={onEditProfile}><img className=\"info__button-img\" src={buttonEdit} alt=\"Кнопка редактирования\"/></button>\n                    <p className=\"info__about\">{currentUser.about}</p>\n                </div>\n                <button type=\"button\" className=\"button button_type_add-card\" onClick={onAddPlace}><img className=\"profile__button-img\" src={buttonAdd} alt=\"Кнопка добавления новой карточки\"/></button>\n            </section>\n\n            <section>\n                <ul className=\"cards\" id=\"cards\">\n                {cards.map(card => (<Card key={card._id} card={card} onDeleteCard={handleCardDelete} onCardClick={onCardClick} onCardLike={handleCardLike}/>))}\n                </ul>\n            </section>\n        </main>\n    )\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; {new Date().getFullYear()} Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n    return (\n        <article className={`${props.isOpen ? `popup popup_type_${props.name} popup_type_opened` : `popup popup_type_${props.name}`}`}>\n            <div className=\"popup__container\">\n                <button className=\"popup__button popup__button_type_close\" type=\"button\" onClick={props.onClose}/>\n                <h3 className=\"popup__title\">{props.title}</h3>\n                <form className={`popup__form popup__form_type_${props.name}`} name={`${props.name}`} onSubmit={props.onSubmit} noValidate>\n                    {props.children}\n                </form>\n            </div>\n        </article>\n    );\n}\n\nexport default PopupWithForm;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n\n    const currentUser = React.useContext(CurrentUserContext);\n    const [name, setName] = React.useState();\n    const [description, setDescription] = React.useState();\n\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n      }, [isOpen, currentUser]); \n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateUser({\n          name: name,\n          about: description,\n        });\n      } \n\n    function handleNameChange(e) {\n        setName(e.target.value);\n    }\n\n    function handleDescriptionChange(e) {\n        setDescription(e.target.value);\n    }\n   \n\n    return (\n      <PopupWithForm title={'Редактировать профиль'} name={'edit'} onSubmit={handleSubmit} isOpen={isOpen} onClose={onClose}>\n            <input value={name || ''} onChange={handleNameChange} type=\"text\" id =\"profilename\" name=\"profilename\"  className=\"popup__input popup__input_type_name\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required/>\n            <span className=\"popup__span-error\" id=\"profilename-error\"></span>\n            <input value={description || ''} onChange={handleDescriptionChange} type=\"text\" id=\"profileabout\" name=\"profileabout\"  className=\"popup__input popup__input_type_about\" placeholder=\"Профессия\" minLength=\"2\" maxLength=\"200\" required/>\n            <span className=\"popup__span-error\" id=\"profileabout-error\"></span>\n            <button type=\"submit\" className=\"popup__button popup__button_type_save popup__button_type_save-edit\">Сохранить</button>\n      </PopupWithForm>\n    )\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n\n    const EditAvatarRef = React.useRef('');\n\n    React.useEffect(() => {\n      EditAvatarRef.current.value = '';\n    }, [isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onUpdateAvatar({\n          avatar: EditAvatarRef.current.value,\n        });\n      }\n    return (\n        <PopupWithForm title={'Обновить аватар'} name={'avatar-edit'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n                <input ref={EditAvatarRef} type=\"url\" id=\"avatarlink\" name=\"avatarlink\" className=\"popup__input popup__input_type_avatar-edit\" placeholder=\"Ссылка на аватарку\" required/>\n                <span className=\"popup__span-error\" id=\"avatarlink-error\"></span>\n                <button type=\"submit\" className=\"popup__button popup__button_type_save popup__button_type_avatar-edit\">Сохранить</button>\n        </PopupWithForm>\n    )\n\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n\n    const cardNameRef = React.useRef();\n    const cardLinkRef = React.useRef();\n    \n    React.useEffect(() => {\n      cardNameRef.current.value = '';\n      cardLinkRef.current.value = '';\n    }, [isOpen]);\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        onAddPlace({\n          name: cardNameRef.current.value,\n          link: cardLinkRef.current.value,\n        });\n      }\n      \n    return (\n        <PopupWithForm title={'Новое место'} name={'add-card'} isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\n              <input ref={cardNameRef} type=\"text\" id=\"cardname\" name=\"cardname\" className=\"popup__input popup__input_type_card-name\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required/>\n              <span className=\"popup__span-error\" id=\"cardname-error\"></span>\n              <input ref={cardLinkRef} type=\"url\" id=\"cardlink\" name=\"cardlink\" className=\"popup__input popup__input_type_card-link\" placeholder=\"Ссылка на картинку\" required/>\n              <span className=\"popup__span-error\" id=\"cardlink-error\"></span>\n              <button type=\"submit\" className=\"popup__button popup__button_type_save popup__button_type_save-card\">Создать</button>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction ImagePopup({card, onClose}) {\n    return (\n        <article className={card.link ? \"popup popup_type_zoomed popup_type_opened\" : \"popup popup_type_zoomed\"} id=\"popup_type_zoomed\">\n            <div className=\"popup__zoomed\">\n                <button type=\"button\" className=\"popup__button popup__button_type_close\" aria-label=\"close\" onClick={onClose}/>\n                <img className=\"popup__picture\" src={card.link} alt={card.name} />\n                <p className=\"popup__caption\">{card.name}</p>\n            </div>\n        </article>\n    );\n}\n\nexport default ImagePopup;","class Api {\n    constructor(config) {\n        this._url = config.url;\n        this._headers = config.headers;\n    }\n    \n\n  // проверка ответа сервера\n  _getResponseData(res){\n    if (res.ok) {\n      return res.json();\n    } return Promise.reject(`Произошла ошибка - ${res.status}`);\n  }\n\n    getInitialCards() {\n        return fetch(`${this._url}/cards`, {\n            method: 'GET',\n            headers: this._headers\n        }).then(this._getResponseData);\n    }\n\n    addNewCard(data) {\n    return fetch(`${this._url}/cards`, {\n        method: 'POST',\n        headers: this._headers,\n        body: JSON.stringify({\n          name: data.name,\n          link: data.link\n        })\n      }).then(this._getResponseData);\n  }\n\n   deleteCard(id) {\n    return fetch(`${this._url}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  changeUserAvatar(avatar) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(avatar),\n    }).then(this._getResponseData);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._url}/users/me`, {\n        method: 'GET',\n        headers: this._headers\n      }).then(this._getResponseData);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about\n      })\n      }).then(this._getResponseData);\n  }\n\n  setLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"PUT\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._url}/cards/likes/${id}`, {\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n      headers: this._headers,\n    }).then(this._getResponseData);\n  }\n\n}\n\nconst api = new Api({\n  url: 'https://mesto.nomoreparties.co/v1/cohort-23',\n  headers: {\n    authorization: \"8865dd26-fca5-4131-9c42-5dfb67b3f292\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;","import React, { useState } from 'react';\n\nfunction Login({ handleLogin }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('')\n\n  const handleChangeEmail = (e) => {\n      setEmail(e.target.value)\n  }\n\n  const handleChangePassword = (e) => {\n    setPassword(e.target.value)\n  }\n  function handleSubmit(e) {\n    e.preventDefault();\n    handleLogin(email, password);\n  }\n\n  \n    \n\n    return(\n        <section className=\"login\">\n            <h2 className=\"login__title\">Вход</h2>\n            <form onSubmit={handleSubmit} className=\"login__form\">\n                <input className=\"login__input\" id=\"username\" required name=\"username\" type=\"text\" value={email} onChange={handleChangeEmail} placeholder=\"Email\"/>\n                <input className=\"login__input\" id=\"password\" required name=\"password\" type=\"password\" value={password} onChange={handleChangePassword} placeholder=\"Пароль\"/>\n                <button type=\"submit\" className=\"button login__button\">Войти</button>\n            </form>\n        </section>\n    );\n}\n\nexport default Login;","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ handleRegister }) {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('')\n    \n\n    \n  const handleChangeEmail = (e) => {\n    setEmail(e.target.value)\n  }\n\n  const handleChangePassword = (e) => {\n    setPassword(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    handleRegister(email, password);\n  }\n\n    return(\n        <section className=\"login\">\n            <h2 className=\"login__title\">Регистрация</h2>\n            <form onSubmit={handleSubmit} className=\"login__form\">\n                <input className=\"login__input\" id=\"username\" required name=\"username\" type=\"text\" value={email} onChange={handleChangeEmail} placeholder=\"Email\"/>\n                <input className=\"login__input\" id=\"password\" required name=\"password\" type=\"password\" value={password} onChange={handleChangePassword} placeholder=\"Пароль\"/>\n                <button type=\"submit\" className=\"button login__button\">Зарегистрироваться</button>\n            </form>\n            <div className=\"login__signin\">\n                <p className=\"login__text\">Уже зарегистрированы?</p>\n                <Link to=\"/sign-in\" className=\"login__text login__text_type_link\">Войти</Link>\n            </div>\n        </section>\n    );\n}\n\nexport default Register;","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\n\nconst getResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(res.status);\n};\n\nexport const register = (email, password) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({email, password}),\n  }).then((res) => {\n    return getResponse(res);\n  });\n};\n\nexport const authorize = (email, password) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: \"POST\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({email, password}),\n  })\n    .then((res) => {\n      return getResponse(res);\n    })\n\t\t.then((data) => {\n      if (data.token) {\n        localStorage.setItem(\"jwt\", data.token);\n        return data;\n      }\n    });\n};\n\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: \"GET\",\n    headers: {\n      \"Accept\": \"application/json\",\n      \"Content-Type\": \"application/json\",\n      \"Authorization\": `Bearer ${token}`,\n    },\n  }).then((res) => {\n    return getResponse(res);\n  });\n};","export default __webpack_public_path__ + \"static/media/decline_sign.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/success_sign.1b6082f8.svg\";","import React from 'react';\nimport declineSign from '../images/decline_sign.svg';\nimport successSign from '../images/success_sign.svg';\n\nfunction InfoTooltip(props) {\n    return (\n    <article className={`${props.isOpen ? `popup popup_type_${props.name} popup_type_opened` : `popup popup_type_${props.name}`}`}>\n        <div className=\"popup__container\">\n            <button type=\"button\" className=\"popup__button popup__button_type_warning popup__button_type_close\" aria-label=\"close\" onClick={props.onClose} />\n            <img className=\"popup__img\" src={ `${props.isAuthSuccess ? `${successSign}` : `${declineSign}`}`} alt=\"\"/>\n            <p className=\"popup__paragraph\">{ `${props.isAuthSuccess ? `Вы успешно зарегистрировались!` : `Что-то пошло не так! Попробуйте ещё раз.`}`}</p>\n        </div>\n    </article>\n\n    )\n}\n\nexport default InfoTooltip;","import React, { useState, useEffect } from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ImagePopup from './ImagePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport api from '../utils/api';\nimport { Route, Switch, useHistory } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport * as auth from '../utils/auth';\nimport InfoTooltip from './InfoTooltip';\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false); \n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [isInfoTooltipPopupOpen, setInfoTooltipPopupOpen] = React.useState(false);\n  const [isAuthSuccess, setAuthSuccess] = React.useState(false);\n  const history = useHistory();\n\n\nuseEffect(()=>{\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n    .then(([userInfo, cards]) => {\n        setCards(cards);\n        setCurrentUser(userInfo)\n      }).catch(err => console.log(`${err}`))\n  }, [])\n\n\nuseEffect(() => {\n    tokenCheck();\n    // eslint-disable-next-line\n  }, []);\n\n\n  const tokenCheck = () => {\n    const jwt = localStorage.getItem(\"jwt\");\n    if (jwt) {\n      auth.getContent(jwt).then((res) => {\n        if (res) {\n          setUserData({\n            email: res.data.email\n          });\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        if (err === 401) {\n          console.log(`401 — Переданный токен некорректен`);\n        }\n        if (err === 400) {\n          console.log(`400 — Токен не передан или передан не в том формате`);\n        }\n        else {\n          console.log(`${err}`)\n        }\n      })\n    }\n  }\n\n  \n  const handleRegister = (email, password) => {\n    auth.register(email, password)\n      .then(data => {\n        if (data) {\n          setUserData({\n            email: data.email,\n            password: data.password\n          });\n          setInfoTooltipPopupOpen(true);\n          setAuthSuccess(true)\n          history.push('/sign-in');\n        }\n      })\n      .catch((err) => {\n        if (err === 400) {\n          console.log(`400 - некорректно заполнено одно из полей`);\n          setInfoTooltipPopupOpen(true);\n          setAuthSuccess(false)\n        }\n      });\n  }\n\n  const handleLogin = (email, password) => {\n    auth.authorize(email, password)\n      .then(data => {\n        if (data) {\n          setUserData({\n            email: email,\n            password: password\n          });\n          setLoggedIn(true);\n          history.push('/');\n        }\n      })\n      .catch((err) => {\n        if (err === 401) {\n          console.log(`401 - пользователь с email не найден`);\n        }\n        if (err === 400) {\n          console.log(`400 - не передано одно из полей `);\n        }\n        setInfoTooltipPopupOpen(true);\n        setAuthSuccess(false)\n      });\n  }\n\n\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/sign-in');\n  }\n\n\nfunction handleCardLike(card) {\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n        .then((newCard) => {\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\n    }).catch(err => console.log(`${err}`))\n}\n\nfunction handleCardDelete(card) {\n    const deleteCards = cards.filter((c) => c._id !== card._id);\n    api.deleteCard(card._id)\n        .then(() => {\n            setCards(deleteCards)\n        }).catch(err => console.log(`${err}`))\n}\n\nfunction handleAddPlaceSubmit(card) {\n    api.addNewCard(card)\n    .then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    }).catch(err => console.log(`${err}`))\n}\n\n  const handleUpdateUser = (userInfo) => {\n    api.setUserInfo(userInfo)\n    .then((newUser) => {\n        setCurrentUser(newUser);\n        closeAllPopups();\n    })\n    .catch(err => console.log(`${err}`))\n  }\n\n  const handleUpdateAvatar = (userInfo) => {\n    api.changeUserAvatar(userInfo)\n    .then((avatar) => {\n      setCurrentUser(avatar);\n      closeAllPopups();\n    })\n    .catch(err => console.log(`${err}`))\n  }\n\n  const handleEditProfileClick = () => {\n      setEditProfilePopupOpen(true);\n  };\n\n  const handleEditAvatarClick = () => {\n      setEditAvatarPopupOpen(true);\n  };\n\n  const handleAddPlaceClick = () => {\n      setAddPlacePopupOpen(true);\n  };  \n\n  const closeAllPopups = () => {\n      setEditAvatarPopupOpen(false);\n      setEditProfilePopupOpen(false);\n      setAddPlacePopupOpen(false);\n      setDeleteCardPopupOpen(false);\n      setInfoTooltipPopupOpen(false);\n      setSelectedCard({});\n  };\n\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n      <Header onSignOut={onSignOut} email={userData.email} />\n      <Switch>\n        <ProtectedRoute exact path=\"/\"\n              component={Main}\n              loggedIn={loggedIn}\n              onEditProfile={handleEditProfileClick} \n              onEditAvatar={handleEditAvatarClick} \n              onAddPlace={handleAddPlaceClick}  \n              onCardClick={setSelectedCard}\n              handleCardDelete={handleCardDelete}\n              handleCardLike={handleCardLike}\n              cards={cards}\n        />\n        <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n        <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n        </Route>\n      </Switch>\n      {loggedIn && <Footer />}\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n      <PopupWithForm title={'Вы уверены?'} name={'delete-card'} isOpen={isDeleteCardPopupOpen} onClose={closeAllPopups}>\n            <button type=\"submit\" className=\"popup__button popup__button_type_save popup__button_type_small\">Да</button>\n      </PopupWithForm>\n      <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n      <InfoTooltip isOpen={isInfoTooltipPopupOpen} onClose={closeAllPopups} isAuthSuccess={isAuthSuccess} />\n      </CurrentUserContext.Provider>\n    </div>      \n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();"],"sourceRoot":""}